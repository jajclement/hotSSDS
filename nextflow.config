// ---------------------------------------------- //
// SSDS Nextflow pipeline default config file     //
// ---------------------------------------------- //
// Default config options for all environments.

params {
	//PIPELINE DEPENDANCIES
	inputcsv = "${baseDir}/tests/fastq/input.csv"
	outdir = "${baseDir}/${params.name}.outdir"
	src = "${baseDir}/accessoryFiles/SSDS/scripts"
	scratch = "${baseDir}/scratch"
	chrsize = "${baseDir}/accessoryFiles/SSDS/mm10/mm10.chrom.sizes"
	trimmomatic_adapters = "${baseDir}/TruSeq2-PE.fa"
	multiqc_configfile = "${baseDir}/multiqc_config.yaml"
	custom_bwa = "${baseDir}/accessoryFiles/SSDS/bwa_0.7.12"
	custom_bwa_ra = "${baseDir}/accessoryFiles/SSDS/bwa_ra_0.7.12"
	hotspots = "${baseDir}/accessoryFiles/SSDS/hotspots"
	multiqc_dev_conda_env = "${baseDir}/multiqc_dev"
	custom_multiqc = "${baseDir}/accessoryFiles/SSDS/MultiQC_SSDS_Rev1/bin/multiqc"
	blacklist = "${baseDir}/accessoryFiles/SSDS/blacklist/mm10/blackList.bed"

	//WEB KEYS PARAMETERS
	//ncbi_api_key='bd4fbe570fd4707136df9302e75b1aa9b108'    // attached to pauline auffret ncbi account.
	tower_token='db33ecd8b1cc2e1b39972b4d82614d379b84f878' // attached to pauline auffret tower account.
}

// PROFILES PARAMETERS
profiles {
  conda {
    process.conda = "${baseDir}/environment.yml"
    conda.createTimeout = '5 h'
  }
  singularity {
    process.container = "${baseDir}/singularity.img"
    singularity.enabled = true
    singularity.autoMounts = true
  }
}

//NEXTFLOW REPORT PARAMETERS
report {
   enabled = true
   file = "${params.outdir}/nxfReports/report.html"
}
 
timeline {
    enabled = true
    file = "${params.outdir}/nxfReports/timeline.html"
}

trace {
   enabled = true
   file = "${params.outdir}/nxfReports/trace.txt"
}

manifest {
   name = 'SSDS nextflow pipeline'
   author = 'Kevin Brick (original pipelines SSDSnextflowPipeline and callSSDSpeaks) and Pauline Auffret for the adaptation'
   homePage = 'https://github.com/kevbrick/SSDSnextflowPipeline ; https://github.com/kevbrick/callSSDSpeaks ; and https://gitlab.igh.cnrs.fr/pauline.auffret/ssdsnextflowpipeline'
   description = 'Single-Stranded-DNA-Sequencing (SSDS) Pipeline : Align, Parse and call Peaks from ssDNA.  2012: Kevin Brick / 2020: IGH adaptation Pauline Auffret'
   mainScript = 'main.nf'
   nextflowVersion = '>=20.04.1'
   version = '2.0'
}

dag {
   enabled = true
   file = "${params.outdir}/nxfReports/dag.png"
}

tower {
  accessToken = params.tower_token
  enabled = false
}


